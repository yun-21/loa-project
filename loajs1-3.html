<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
  </style>
</head>

<body>
  <div id="root">
    <a href="#도화가"></a>
  </div>
  <div id="items">
    <div>
      <a id="도화가"></a>
      <div>a</div>
      <div id="gundanjang">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
      </div>
    </div>
  </div>
  <script>
    // 문서에서 아이디가 문자열 root인 요소를 찾아서 root라는 변수에 할당해줬다.
    let root = document.getElementById("root");

    //문서에서 아이디가 문자열 items인 요소를 찾아서 items라는 변수에 할당해줬다.
    let items = document.getElementById("items");

    // loa라는 객체를 생성해서 ㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇㅇ
    var loa = {
      name: ["도화가", "스트라이커", "호크아이"],
      level: [1610, 1605, 1560],
      initialization: "수요일",
      boss: ["일리하칸", "상노탑", "하브렐슈드"],
      ingredient1: [
        "찬란한 명예의 돌파석",
        "정제된 수호강석",
        "정제된 파괴강석",
        "명예의 파편",
        "골드",
      ],

      gatshu: [
        16,
        34,
        21,
        3500,
      ],

      getgold: [10000, 9000, 10500],
      mygold: 2000000
    }

    root.children[0].innerHTML = `<h3>로스트 아크</h3>`;
    root.children[0].style.display = "flex";
    root.children[0].style.alignItems = "center";
    root.children[0].style.justifyContent = "center";

    // style 조정 // 
    root.style.display = "flex";
    root.style.alignItems = "center";
    root.style.justifyContent = "space-around";
    root.style.backgroundColor = "lightblue";
    root.style.height = "100px";
    root.style.fontSize = "18px";
    root.style.fontWeight = "600";

    for (let i = 0; i < root.children.length; i++) {
      root.children[i].style.textDecorationLine = "none";
      root.children[i].style.color = "lightcoral";
    }
    for (let i = 0; i < items.children.length; i++) {
      items.children[i].style.height = "100vh";
    }

    // 각각 직업의 맞는 레벨 대입
    for (let i = 0; i < loa.name.length; i++) {
      for (let j = 0; j < loa.level.length; j++) {
        if (loa.name[i] === '도화가') {
          if (loa.level[j] === 1605) {
            items.children[0].children[0].innerHTML = loa.name[i] + ' ' + loa.level[j];
            items.children[0].children[1].innerHTML = `레벨대에 맞는 Boss : ${loa.boss[0]}, ${loa.boss[1]}, ${loa.boss[2]} `;
          }
        }
      }
    }

    let gundanjang = document.getElementById("gundanjang");
    gundanjang.style.display = "grid";
    gundanjang.style.gridTemplateColumns = "repeat(3,1fr)";
    gundanjang.style.gridTemplateRows = "repeat(2,1fr)";
    gundanjang.style.alignItems = "end";
    gundanjang.style.justifyItems = "center";
    gundanjang.style.gap = "20px";
    gundanjang.style.height = "240px";

    gundanjang.children[0].innerHTML = `<h3>일리하칸</h3>`;
    function gunil() {
      if (gundanjang.children[3].style.display === 'none') {
        for (let i = 0; i < loa.ingredient1.length; i++) {
          if (loa.ingredient1[i] === '골드') {
            for (let j = 0; j < loa.getgold.length; j++) {
              if (loa.getgold[j] === 10000) {
                gundanjang.children[3].innerHTML += loa.ingredient1[i] + ` : ` + loa.getgold[j] + `<br>`;
              }
            }
          }
          else {
            gundanjang.children[3].innerHTML += loa.ingredient1[i] + ` : ` + loa.gatshu[i] + `<br>`;
          }
        }
        gundanjang.children[3].style.display = 'block';
      }
      else {
        gundanjang.children[3].style.display = 'none';
        gundanjang.children[3].innerHTML = ''; //innerHTML 초기화 (초기화 안하면 for문이 계속 저장됨)
      }
    }

    gundanjang.children[0].addEventListener('click', gunil);

    gundanjang.children[1].innerHTML = `<h3>상노탑</h3>`;
    function guntop() {
      if (gundanjang.children[4].style.display === 'none') {
        for (let i = 0; i < loa.ingredient1.length; i++) {
          if (loa.ingredient1[i] === '골드') {
            for (let j = 0; j < loa.getgold.length; j++) {
              if (loa.getgold[j] === 9000) {
                gundanjang.children[4].innerHTML += loa.ingredient1[i] + ` : ` + loa.getgold[j] + `<br>`;
              }
            }
          }
          else {
            gundanjang.children[4].innerHTML += loa.ingredient1[i] + ` : ` + loa.gatshu[i] + `<br>`;
          }
        }
        gundanjang.children[4].style.display = 'block';
      }
      else {
        gundanjang.children[4].style.display = 'none';
        gundanjang.children[4].innerHTML = '';//innerHTML 초기화 (초기화 안하면 for문이 계속 저장됨)
      }

    }
    gundanjang.children[1].addEventListener('click', guntop);

    gundanjang.children[2].innerHTML = `<h3>하브렐슈드</h3>`;
    function gunhashu() {
      if (gundanjang.children[5].style.display === 'none') {
        for (let i = 0; i < loa.ingredient1.length; i++) {
          if (loa.ingredient1[i] === '골드') {
            for (let j = 0; j < loa.getgold.length; j++) {
              if (loa.getgold[j] === 10500) {
                gundanjang.children[5].innerHTML += loa.ingredient1[i] + ` : ` + loa.getgold[j] + `<br>`;
              }
            }
          }
          else {
            gundanjang.children[5].innerHTML += loa.ingredient1[i] + ` : ` + loa.gatshu[i] + `<br>`;
          }
        }
        gundanjang.children[5].style.display='block';
      }
      else{
        gundanjang.children[5].style.display='none';
        gundanjang.children[5].innerHTML='';//innerHTML 초기화 (초기화 안하면 for문이 계속 저장됨)
      }
    }
    gundanjang.children[2].addEventListener('click', gunhashu); //한번만 실행

    let itemchild0 = items.children[0]; //도화가 부분
    let itchildfris = document.createElement("div");
    itemchild0.appendChild(itchildfris); //도화가div 자식으로 div생성
    itchildfris.style.display = "flex";
    itchildfris.style.gap = "100px";
    itchildfris.style.alignItems = "center";
    //도화가div 자식인div 스타일지정

    let add = document.createElement("div");
    itchildfris.appendChild(add); //도화가 자식div의 첫번째 자식으로 생성

    let resultdiv = document.createElement("div");
    itchildfris.appendChild(resultdiv); //도화가 자식div의 두번째 자식으로 생성
    resultdiv.innerHTML = "골드 : 0"; //골드 초기 값
    let result = [];

    for (let i = 0; i < loa.boss.length; i++) {
      let input = document.createElement("input");
      add.appendChild(input);
      let label = document.createElement("label");
      add.appendChild(label);
      let br = document.createElement("br");
      add.appendChild(br);
      input.type = "checkbox";
      input.name = "Boss";
      input.id = loa.boss[i];
      label.htmlFor = loa.boss[i];
      if (input.id === label.htmlFor) {
        label.textContent = loa.boss[i];
        input.addEventListener('click', function () {
          let sum = 0;
          if (input.checked === true) {
            if (loa.boss[i] === "일리하칸") {
              result.unshift(loa.getgold[0]);
            }
            else if (loa.boss[i] === "상노탑") {
              result.push(loa.getgold[1]);

            }
            else if (loa.boss[i] === "하브렐슈드") {
              result.push(loa.getgold[2]);
            }
            for (let i = 0; i < result.length; i++) {
              sum += parseInt(result[i]);
            }
            resultdiv.innerHTML = `골드 : ${sum}`;
          }
          else {
            if (loa.boss[i] === "일리하칸") {
              result.splice(0, 1);

            }
            else if (loa.boss[i] === "상노탑") {
              for (let i = 0; i < result.length; i++) {
                if (result[i] === 9000) {
                  result.splice(i, 1);
                }
              }
            }
            else if (loa.boss[i] === '하브렐슈드') {
              for (let i = 0; i < result.length; i++) {
                if (result[i] === 10500) {
                  result.splice(i, 1);
                }
              }
            }
            for (let i = 0; i < result.length; i++) {
              sum += parseInt(result[i]);
            }
            resultdiv.innerHTML = `골드 : ${sum}`;
          }
        });
      }
    }


  </script>
</body>

</html>